# Quarto ä¸“æŠ¥å†™ä½œæ¨¡æ¿

[![å‘å¸ƒ](https://github.com/TomBener/quarto-cn-tools/actions/workflows/quarto-publish.yml/badge.svg)](https://github.com/TomBener/quarto-cn-tools/actions/workflows/quarto-publish.yml)

æ­¤ä»“åº“æä¾›äº†ä¸€å¥—å…¨é¢çš„æŒ‡å—å’Œå·¥å…·é›†ï¼Œç”¨äºä¸­æ–‡å­¦æœ¯è®ºæ–‡çš„å†™ä½œï¼ŒåŒ…æ‹¬ä¸­æ–‡å¼•ç”¨å’Œå‚è€ƒæ–‡çŒ®çš„æœ¬åœ°åŒ–å’Œæ’åºã€ä¸­æ–‡å¼•å·çš„è½¬æ¢ä»¥åŠä¸­è‹±æ–‡å­—ç¬¦é—´ç©ºæ ¼çš„æ ¡æ­£ã€‚å€ŸåŠ©è¿™äº›æ¨¡æ¿å’Œè„šæœ¬ï¼Œæ‚¨å¯ä»¥åœ¨ Markdown ä¸­æ’°å†™å­¦æœ¯è®ºæ–‡ï¼Œå¹¶é€šè¿‡ Quarto å°†å…¶è½¬æ¢ä¸ºå¤šç§æ ¼å¼ï¼Œå¦‚ Wordã€HTMLã€LaTeXã€PDF å’Œ EPUBã€‚

ä¸»è¦ç”¨äºä¸­å’¨å…¬å¸æ°”å€™å¤„æ’°å†™ä¸“æŠ¥ã€‚ 

## æ–°ç‰ˆæœ¬è¯´æ˜

åœ¨è¿™ä¸ªæ–°ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å¯¹å·¥å…·é›†è¿›è¡Œäº†ä¼˜åŒ–ï¼Œæå‡äº†ä¸­æ–‡æ–‡çŒ®å¤„ç†çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ã€‚æ­¤å¤–ï¼Œå¢åŠ äº†å¯¹æ›´å¤šæ ¼å¼çš„æ”¯æŒï¼Œå¹¶æ”¹è¿›äº†ç”¨æˆ·ç•Œé¢ï¼Œä½¿å¾—ä½¿ç”¨ä½“éªŒæ›´åŠ æµç•…ã€‚

## åŠŸèƒ½

- **å¤šæ ¼å¼æ¸²æŸ“**ï¼šä½¿ç”¨ç›¸åŒçš„æºæ–‡ä»¶åŒæ—¶æ¸²æŸ“ DOCXã€HTMLã€PDFã€EPUB å’Œ Reveal.js å¹»ç¯ç‰‡ï¼ŒPDF å¯å®šåˆ¶ä¸ºæ‰“å°ç‰ˆæˆ–å¸¦æ°´å°ã€‚
- **æœ¬åœ°åŒ–ä¸­æ–‡å‚è€ƒæ–‡çŒ®**ï¼šå°†å¼•ç”¨å’Œå‚è€ƒæ–‡çŒ®ä¸­çš„ `et al.` ç­‰è‹±æ–‡æœ¬åœ°åŒ–å­—ç¬¦ä¸²æ›´æ”¹ä¸ºä¸­æ–‡ï¼Œæ”¯æŒä½œè€…-æ—¥æœŸå’Œæ•°å­—æ ·å¼ã€‚
- **æ’åºä¸­æ–‡å‚è€ƒæ–‡çŒ®**ï¼šæŒ‰æ‹¼éŸ³æ’åºä¸­æ–‡å‚è€ƒæ–‡çŒ®ï¼Œå¹¶å¯è‡ªå®šä¹‰ä¸­æ–‡æ¡ç›®æ’åºåœ¨å‰æˆ–åœ¨åã€‚
- **æ ¡æ­£ä¸­æ–‡å¼•å·**ï¼šè°ƒæ•´ä¸­æ–‡å¼•å·ä»¥å®ç°å¤æ‚çš„æ’ç‰ˆã€‚
- **æ ¡æ­£ç©ºæ ¼**ï¼šæ”¹è¿›æ–‡æ¡ˆï¼Œæ ¡æ­£ CJK ä¹‹é—´çš„ç©ºæ ¼ã€å•è¯å’Œæ ‡ç‚¹ã€‚
- **æå–å‚è€ƒæ–‡çŒ®**ï¼šå°†æ–‡æ¡£ä¸­å¼•ç”¨çš„æ‰€æœ‰å‚è€ƒæ–‡çŒ®æå–ä¸º BibTeX/BibLaTeX æ–‡ä»¶ï¼Œå¹¶å°†å¼•ç”¨çš„å‚è€ƒæ–‡ä»¶å¤åˆ¶åˆ°æŒ‡å®šç›®å½•ã€‚
- **ç”Ÿæˆåå‘é“¾æ¥**ï¼šä¸ºå‚è€ƒæ–‡çŒ®æ¡ç›®ç”Ÿæˆåˆ°ç›¸åº”å¼•ç”¨çš„åå‘é“¾æ¥ã€‚
- **ç§»é™¤ DOI è¶…é“¾æ¥**ï¼šå¦‚æœä¸éœ€è¦åœ¨å‚è€ƒæ–‡çŒ®ä¸­æ˜¾ç¤º DOI è¶…é“¾æ¥ï¼Œåˆ™ç§»é™¤ç”± `citeproc` æ ¼å¼åŒ–çš„ DOI è¶…é“¾æ¥ã€‚

## å…ˆå†³æ¡ä»¶

- [Quarto](https://quarto.org)ï¼ŒåŒ…å« [Pandoc](https://pandoc.org)ï¼Œæ‚¨å¯ä»¥é€šè¿‡ `quarto install tinytex --update-path` å®‰è£… TinyTeXã€‚
- Python åŠä»¥ä¸‹è½¯ä»¶åŒ…ï¼š
  - [autocorrect_py](https://github.com/huacnlee/autocorrect/tree/main/autocorrect-py)
  - [pypinyin](https://github.com/mozillazg/python-pinyin)
  - [panflute](https://github.com/sergiocorreia/panflute)
- R åŠä»¥ä¸‹è½¯ä»¶åŒ…ï¼š
  - [rmarkdown](https://github.com/rstudio/rmarkdown)
  - [knitr](https://github.com/yihui/knitr)
  - [ggplot2](https://github.com/tidyverse/ggplot2)

## ä½¿ç”¨æ–¹æ³•

> [!æ³¨æ„]
> ç›®å‰ [Lua è¿‡æ»¤å™¨](https://github.com/quarto-dev/quarto-cli/issues/7888) æ— æ³•åœ¨ Quarto ä¸­åœ¨ `citeproc` ä¹‹åè¿è¡Œã€‚ä½œä¸ºä¸€ç§è§£å†³æ–¹æ³•ï¼Œä¸€äº›æ‰©å±•åœ¨ Makefile ä¸­é€šè¿‡å‘½ä»¤è¡Œè¿è¡Œã€‚è¿™å¯ä»¥åœ¨[æœªæ¥](https://github.com/quarto-dev/quarto-cli/milestone/15)å¾—åˆ°æ”¹è¿›ã€‚

æœ¬é¡¹ç›®ä½¿ç”¨ [Makefile](Makefile) æ¥ç®¡ç†æ„å»ºè¿‡ç¨‹ã€‚ä»¥ä¸‹æ˜¯å¯ç”¨çš„å‘½ä»¤ï¼š

- `make` æˆ– `make all`ï¼šåŒæ—¶æ¸²æŸ“ DOCXã€HTMLã€PDFã€EPUB å’Œ Reveal.js å¹»ç¯ç‰‡ã€‚
- `make docx`ï¼šæ¸²æŸ“ DOCXã€‚
- `make html`ï¼šæ¸²æŸ“ HTMLã€‚
- `make pdf`ï¼šæ¸²æŸ“ PDFã€‚
- `make epub`ï¼šæ¸²æŸ“ EPUBã€‚
- `make slides`ï¼šæ¸²æŸ“ Reveal.js å¹»ç¯ç‰‡ã€‚
- `make print`ï¼šæ¸²æŸ“ç”¨äºæ‰“å°çš„ PDFã€‚
- `make watermark`ï¼šæ¸²æŸ“å¸¦æ°´å°çš„ PDFã€‚
- `make citebib`ï¼šæå–æ‰€æœ‰å¼•ç”¨çš„å‚è€ƒæ–‡çŒ®ä¸º BibLaTeX æ–‡ä»¶ `citebib.bib`ã€‚
- `make citedoc`ï¼šå°†å¼•ç”¨çš„å‚è€ƒæ–‡ä»¶å¤åˆ¶åˆ°æŒ‡å®šç›®å½•ã€‚
- `make clean`ï¼šåˆ é™¤è¾…åŠ©å’Œè¾“å‡ºæ–‡ä»¶ã€‚

## å·¥å…·

> [!æç¤º]
> è¿™äº›å·¥å…·ä¹Ÿå¯ä»¥å•ç‹¬ç”¨äºæ‚¨çš„ Pandoc æˆ– Quarto é¡¹ç›®ä¸­ã€‚

- [auto-correct](_extensions/auto-correct.py)ï¼šä½¿ç”¨ AutoCorrect æ”¹è¿›æ–‡æ¡ˆï¼Œæ ¡æ­£ CJK å’Œè‹±æ–‡ä¹‹é—´çš„ç©ºæ ¼ã€å•è¯å’Œæ ‡ç‚¹ã€‚
- [citation-backlinks](_extensions/citation-backlinks.lua)ï¼šä¸ºå‚è€ƒæ–‡çŒ®æ¡ç›®ç”Ÿæˆåˆ°ç›¸åº”å¼•ç”¨çš„åå‘é“¾æ¥ã€‚
- [citation-tools](_extensions/citation-tools.py)ï¼šä» Markdown æ–‡ä»¶ä¸­æå–å¼•ç”¨é”®ï¼Œå¹¶å°†å¼•ç”¨çš„å‚è€ƒæ–‡ä»¶å¤åˆ¶åˆ°æŒ‡å®šç›®å½•ã€‚
- [confetti](_extensions/confetti/)ï¼šåœ¨ Reveal.js å¹»ç¯ç‰‡ä¸­å‘é€ä¸€äº› ğŸŠã€‚
- [cnbib-quotes](_extensions/cnbib-quotes.lua)ï¼šå¤„ç† HTML å’Œ EPUB è¾“å‡ºä¸­çš„ä¸­æ–‡å‚è€ƒæ–‡çŒ®å¼•å·ã€‚
- [docx-quotes](_extensions/docx-quotes/)ï¼šåœ¨ DOCX ä¸­å°†ç›´è§’å¼•å·è½¬æ¢ä¸ºå¼¯å¼•å·ã€‚
- [format-md](_extensions/format-md.py)ï¼šé¢„å¤„ç† Markdown æ–‡ä»¶ä»¥ä¾¿ä½¿ç”¨ Quarto è½¬æ¢ã€‚
- [get-bib](_extensions/get-bib.lua)ï¼šæå–æ–‡æ¡£ä¸­å¼•ç”¨çš„æ‰€æœ‰å‚è€ƒæ–‡çŒ®ä¸º BibLaTeX æ–‡ä»¶ã€‚[æ³¨é‡Š^bib]
- [ignore-softbreaks](_extensions/ignore-softbreaks/)ï¼šåœ¨ Quarto ä¸­æ¨¡æ‹Ÿ Pandoc çš„æ‰©å±• `east_asian_line_breaks` [é“¾æ¥](https://github.com/quarto-dev/quarto-cli/issues/8520)ã€‚
- [latex-quotes](_extensions/latex-quotes/)ï¼šåœ¨ LaTeX è¾“å‡ºä¸­å°†ç›´è§’å¼•å·æ›¿æ¢ä¸ºå¾·è¯­å¼•å·ï¼Œå¹¶å¯¹æ ‡é¢˜è¿›è¡Œç‰¹å®šå¤„ç†ä»¥é¿å… PDF ä¹¦ç­¾ä¸­çš„é—®é¢˜ã€‚
- [links-to-citations](_extensions/links-to-citations/)ï¼šç§»é™¤æœ¬åœ°é“¾æ¥ï¼Œä½†ä¿ç•™é“¾æ¥æ–‡æœ¬ä½œä¸ºæ™®é€šå¼•ç”¨ã€‚
- [localize-cnbib](_extensions/localize-cnbib.lua)ï¼šæœ¬åœ°åŒ–ä¸­æ–‡å‚è€ƒæ–‡çŒ®ï¼Œå°† `et al.` å’Œå…¶ä»–è‹±æ–‡æœ¬åœ°åŒ–å­—ç¬¦ä¸²æ›´æ”¹ä¸ºä¸­æ–‡ã€‚
- [remove-doi-hyperlinks](_extensions/remove-doi-hyperlinks.lua)ï¼šç§»é™¤ç”± `citeproc` æ ¼å¼åŒ–çš„ [DOI è¶…é“¾æ¥](https://github.com/jgm/pandoc/issues/10393)ã€‚é»˜è®¤æƒ…å†µä¸‹ç¦ç”¨ã€‚è¦å¯ç”¨å®ƒï¼Œè¯·å°† `-L _extensions/remove-doi-hyperlinks.lua` æ·»åŠ åˆ° Makefile ä¸­çš„ `FILTERS` å˜é‡ï¼Œå¹¶åœ¨ CSL æ–‡ä»¶ä¸­ç§»é™¤ `<text variable="DOI" prefix="DOI: "/>`ã€‚
- [remove-spaces](_extensions/remove-spaces/)ï¼šåœ¨ DOCX ä¸­ç§»é™¤ä¸­æ–‡å­—ç¬¦å‰åçš„ç©ºæ ¼ã€‚
- [sort-cnbib](_extensions/sort-cnbib.py)ï¼šæŒ‰æ‹¼éŸ³æ’åºä¸­æ–‡å‚è€ƒæ–‡çŒ®ï¼Œå¹¶å¯è‡ªå®šä¹‰ä¸­æ–‡æ¡ç›®æ’åºåœ¨å‰æˆ–åœ¨åã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®æ ¹æ® MIT è®¸å¯è¯æˆæƒï¼Œè¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

[^bib]: `get-bib` å·¥å…·åŸºäº Pandocï¼Œä¸ºäº†æ›´å¥½å’Œæ›´çµæ´»çš„å®ç°ï¼Œè¯·ä½¿ç”¨ `citation-tools`ã€‚
